{"ast":null,"code":"import { FILTER_CREATED, FILTER_BY_TEMPERAMENT, GET_DETAILS, GET_DOGS, GET_DOGS_BY_NAME, GET_TEMPERAMENTS, POST_DOGS, SORT_BY_NAME, SORT_BY_WEIGHT } from \"../actions\";\nconst initialState = {\n  dogs: [],\n  allDogs: [],\n  details: [],\n  temperaments: []\n};\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let dogFilter = []; // Array auxiliar para guardar los perros filtrados\n\n  switch (action.type) {\n    case GET_DOGS:\n      return { ...state,\n        dogs: action.payload,\n        allDogs: action.payload\n      };\n\n    case GET_DOGS_BY_NAME:\n      return { ...state,\n        dogs: action.payload\n      };\n\n    case GET_TEMPERAMENTS:\n      return { ...state,\n        temperaments: action.payload\n      };\n\n    case FILTER_BY_TEMPERAMENT:\n      const allDogs = [...state.allDogs];\n      console.log(allDogs.map(d => d.temperament));\n      const temperamentsFilter = action.payload === 'all' ? allDogs : allDogs.filter(d => {\n        var _d$temperament;\n\n        return (_d$temperament = d.temperament) === null || _d$temperament === void 0 ? void 0 : _d$temperament.find(t => t.name === action.payload || t === action.payload);\n      });\n      const temperamentsFiltered = temperamentsFilter.sort((a, b) => {\n        a - b;\n      });\n      return { ...state,\n        dogs: temperamentsFiltered\n      };\n\n    case FILTER_CREATED:\n      if (action.payload === \"all\") {\n        dogFilter = state.allDogs; // si el filtro es all, muestro todos los perros\n      } else if (action.payload === \"api\") {\n        dogFilter = state.allDogs.filter(dog => {\n          if (dog.createdInBd === false) return dog; // si el perro fue creado por la api lo muestro\n        });\n      } else {\n        dogFilter = state.allDogs.filter(dog => {\n          if (dog.createdInBd === true) return dog; // si el perro fue creado por la api lo muestro\n        });\n      }\n\n      return { ...state,\n        dogs: dogFilter\n      };\n\n    case SORT_BY_NAME:\n      const sortedName = action.payload === 'asc' ? state.dogs.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return 1;\n        }\n\n        if (b.name.toLowerCase() > a.name.toLowerCase()) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.dogs.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return -1;\n        }\n\n        if (b.name.toLowerCase() > a.name.toLowerCase()) {\n          return 1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        dogs: sortedName\n      };\n\n    case SORT_BY_WEIGHT:\n      const sortedWeight = action.payload === 'asc' ?\n      /*  state.dogs.sort(function (a,b) {\n           return parseInt(a.weight)-parseInt(b.weight);\n       }):\n        state.dogs.sort(function (a,b) {\n           return parseInt(b.weight)-parseInt(a.weight);\n       }); */\n      state.dogs.sort(function (a, b) {\n        return a.weigthMin - b.weigthMin;\n      }) : state.dogs.sort(function (a, b) {\n        return b.weigthMin - a.weigthMin;\n      });\n      return { ...state,\n        dogs: sortedWeight\n      };\n\n    case POST_DOGS:\n      return { ...state\n      };\n\n    case GET_DETAILS:\n      return { ...state,\n        detail: action.payload\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;","map":{"version":3,"names":["FILTER_CREATED","FILTER_BY_TEMPERAMENT","GET_DETAILS","GET_DOGS","GET_DOGS_BY_NAME","GET_TEMPERAMENTS","POST_DOGS","SORT_BY_NAME","SORT_BY_WEIGHT","initialState","dogs","allDogs","details","temperaments","rootReducer","state","action","dogFilter","type","payload","console","log","map","d","temperament","temperamentsFilter","filter","find","t","name","temperamentsFiltered","sort","a","b","dog","createdInBd","sortedName","toLowerCase","sortedWeight","weigthMin","detail"],"sources":["/home/pato/Escritorio/PI-Dogs-main/client/src/redux/reducer/index.js"],"sourcesContent":["import {  FILTER_CREATED,\n    FILTER_BY_TEMPERAMENT, \n    GET_DETAILS, \n    GET_DOGS, \n    GET_DOGS_BY_NAME, \n    GET_TEMPERAMENTS, \n    POST_DOGS, \n    SORT_BY_NAME, \n    SORT_BY_WEIGHT,  } from \"../actions\";\n\n\nconst initialState = {\n    dogs: [],\n    allDogs: [],\n    details: [],\n    temperaments: []\n}\n\nfunction rootReducer (state = initialState, action){\n    let dogFilter = []; // Array auxiliar para guardar los perros filtrados\n    switch(action.type) {\n        case GET_DOGS:\n            return {\n                ...state,\n                dogs: action.payload,\n                allDogs: action.payload\n            }\n        case GET_DOGS_BY_NAME:\n            return  {\n                ...state,\n                dogs: action.payload,\n            }\n        case GET_TEMPERAMENTS:\n            return {\n                ...state,\n                temperaments: action.payload\n            }\n        case FILTER_BY_TEMPERAMENT:\n        const allDogs = [...state.allDogs];\n        console.log(allDogs.map(d=>d.temperament))\n        const temperamentsFilter = action.payload === 'all' ? allDogs : \n        allDogs.filter(d => d.temperament?.find(t => t.name === action.payload || t === action.payload))\n        const temperamentsFiltered = temperamentsFilter.sort((a, b) => { a-b } )\n        return {\n            ...state,\n            dogs: temperamentsFiltered\n        }\n        case FILTER_CREATED:\n            if(action.payload === \"all\"){\n                dogFilter = state.allDogs; // si el filtro es all, muestro todos los perros\n            } else if(action.payload === \"api\"){\n                dogFilter = state.allDogs.filter(dog => {\n                    if(dog.createdInBd === false) return dog; // si el perro fue creado por la api lo muestro\n                })\n            } else {\n                dogFilter = state.allDogs.filter(dog => {\n                    if(dog.createdInBd === true) return dog; // si el perro fue creado por la api lo muestro\n                })\n            } \n            return{\n                ...state,\n                dogs: dogFilter\n            }\n           \n        case SORT_BY_NAME:\n            const sortedName = action.payload === 'asc' ?\n                state.dogs.sort(function (a, b) {\n                    if (a.name.toLowerCase() > b.name.toLowerCase()) {\n                        return 1;\n                    }\n                    if (b.name.toLowerCase() > a.name.toLowerCase()) {\n                        return -1;\n                    }\n                    return 0\n                }) :\n                state.dogs.sort(function (a, b) {\n                    if (a.name.toLowerCase() > b.name.toLowerCase()) {\n                        return -1;\n                    }\n                    if (b.name.toLowerCase() > a.name.toLowerCase()) {\n                        return 1;\n                    }\n                    return 0;\n                })\n            return {\n                ...state,\n                    dogs: sortedName\n            }\n            case SORT_BY_WEIGHT:\n                    const sortedWeight = action.payload === 'asc'?\n                   /*  state.dogs.sort(function (a,b) {\n                        return parseInt(a.weight)-parseInt(b.weight);\n                    }):\n                     state.dogs.sort(function (a,b) {\n                        return parseInt(b.weight)-parseInt(a.weight);\n                    }); */\n                    state.dogs.sort(function(a,b) {\n                        return a.weigthMin - b.weigthMin;\n                    }):\n                    state.dogs.sort(function(a,b) {\n                        return b.weigthMin - a.weigthMin;\n                    })\n            return {\n                ...state,\n                    dogs: sortedWeight,\n            }\n            case POST_DOGS:\n                return {\n                    ...state,\n                }\n\n            case GET_DETAILS:\n                return {\n                    ...state,\n                        detail: action.payload,\n                }\n        default:\n            return state;\n    }\n}\n\nexport default rootReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}